<template>
	<div class="chart-container">
		<div class="chart" :id="id"></div>
		<!-- <slot></slot> -->
	</div>
</template>
<script>
import * as echarts from 'echarts'

export default {
	props: {
		id: {
			//chart的id
			type: String,
			default: 'myChart',
		},
		option: {
			//图表配置
			type: Object,
			default: () => { },
		},
	},
	data() {
		return {
			chart: null, //图表实例
		}
	},
	watch: {
		option() {
			// 监听option的变化，重新设置图表的配置项
			this.chart.setOption(this.option)
		},
	},
	mounted() {
		// 初始化图表
		this.chart = echarts.init(document.getElementById(this.id))
		// 设置图标的配置项
		this.chart.setOption(this.option)
	},
}
</script>
<style lang="scss" scoped>
.chart-container {
	width: 20vw;
	height: 6vw;
	position: relative;
}

.chart {
	width: 100%;
	height: 100%;
}
</style>
